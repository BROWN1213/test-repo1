repo1
go away GOSU
#define BLYNK_PRINT Serial // Comment this out to disable prints and save space#include <ESP8266_Lib.h>#include <BlynkSimpleShieldEsp8266.h>#include <SimpleDHT.h>#include <SimpleTimer.h>// You should get Auth Token in the Blynk App.// Go to the Project Settings (nut icon).char auth[] = "7d8f8af1075442398792d24f0b30b889";// Your WiFi credentials.// Set password to "" for open networks.char ssid[] = "cchamchi1";char pass[] = "1234asdf";// Hardware Serial on Mega, Leonardo, Micro...#define EspSerial Serial1// or Software Serial on Uno, Nano...#include <SoftwareSerial.h>SoftwareSerial EspSerial(8, 9); // RX, TX// Your ESP8266 baud rate:#define ESP8266_BAUD 9600ESP8266 wifi(&EspSerial);SimpleTimer timer;// for DHT11,// VCC: 5V or 3V// GND: GND// DATA: 2int pinDHT11 = 2;SimpleDHT11 dht11;void DHT_Read(){// start working...Serial.println("=================================");Serial.println("Sample DHT11...");// read without samples.byte temperature = 0;byte humidity = 0;if (dht11.read(pinDHT11, &temperature, &humidity, NULL)) {Serial.print("Read DHT11 failed.");return;}Serial.print("Sample OK: ");Serial.print((int)temperature); Serial.print(" *C, ");Serial.print((int)humidity); Serial.println(" %");Blynk.virtualWrite(V0, (int)temperature);Blynk.virtualWrite(V1, (int)humidity);}void setup(){// Set console baud rateSerial.begin(115200);delay(10);// Set ESP8266 baud rateEspSerial.begin(ESP8266_BAUD);delay(10);Blynk.begin(auth, wifi, ssid, pass);// Setup a function to be called every secondtimer.setInterval(2000L, DHT_Read);}void loop(){Blynk.run();timer.run();}
